{"version":3,"file":"main.min.js","sources":["animations.js","app.js","controllers.js","directives.js","filters.js","ngCart.directives.js","ngCart.fulfilment.js","services.js"],"names":["productcatAnimations","angular","module","animation","animateUp","element","className","done","css","position","top","left","display","jQuery","animate","cancel","stop","animateDown","addClass","removeClass","productcatApp","config","$stateProvider","$urlRouterProvider","$mdThemingProvider","otherwise","state","url","templateUrl","controller","theme","primaryPalette","run","$rootScope","ngCart","ngCartItem","store","$on","$save","isObject","get","$restore","init","productcatControllers","$scope","Product","$timeout","$uibModal","$mdDialog","$mdMedia","$mdSidenav","$log","debounce","func","wait","context","timer","args","Array","prototype","slice","call","arguments","undefined","apply","buildDelayedToggler","navID","toggle","then","debug","setTaxRate","setShipping","products","query","orderProp","toggleLeft","status","customFullscreen","showPaymentDialog","ev","useFullScreen","show","parent","document","body","targetEvent","clickOutsideToClose","fullscreen","answer","$watch","wantsFullScreen","$stateParams","product","id","mainImageUrl","images","setImage","imageUrl","totalAmount","totalCost","onSubmit","processing","stripeCallback","code","result","hideAlerts","error","stripeError","message","stripeToken","hide","filter","input","directive","restrict","scope","name","quantity","quantityMax","price","data","transclude","attrs","link","inCart","getItemById","q","getQuantity","parseInt","qtyOpt","i","push","fulfilmentProvider","checkout","setService","service","setSettings","settings","success","headers","$broadcast","statusCode","$injector","this","_obj","provider","$q","deferred","defer","info","toObject","resolve","cart","promise","$http","post","options","productcatServices","factory","$resource","method","params","isArray","$cart","shipping","taxRate","tax","items","addItem","setQuantity","newItem","itemId","getCart","build","forEach","item","getId","getShipping","length","parseFloat","toFixed","getTaxRate","getTax","getSubTotal","setCart","getItems","getTotalItems","count","getTotalUniqueItems","total","getTotal","removeItem","index","splice","removeItemById","empty","localStorage","isEmpty","subTotal","storedCart","_self","_id","_name","_price","_quantity","_data","set","JSON","stringify","setId","setName","setPrice","setData","getName","priceFloat","getPrice","relative","quantityInt","getData","$window","key","fromJson","parse","val","toJson"],"mappings":"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,UAAA2F,SAAA,WACA,OACAzD,GAAAkD,KAAAiC,QACA5D,KAAA2B,KAAAsE,UACA9F,MAAAwB,KAAAwE,WACAlG,SAAA0B,KAAAhB,cACAP,KAAAuB,KAAA2E,UACA7B,MAAA9C,KAAA+C,aAIAf,KAIAlB,mBAAAtB,QAAA,SAAA,UAAA,SAAAoF,GAEA,OAEAnL,IAAA,SAAAoL,GACA,GAAAD,EAAAvB,aAAAwB,GAAA,CACA,GAAApE,GAAAvJ,QAAA4N,SAAAF,EAAAvB,aAAAwB,GACA,OAAAb,MAAAe,MAAAtE,GAEA,OAAA,GAKAsD,IAAA,SAAAc,EAAAG,GAOA,MALAhK,UAAAgK,EACAJ,EAAAvB,aAAAL,WAAA6B,GAEAD,EAAAvB,aAAAwB,GAAA3N,QAAA+N,OAAAD,GAEAJ,EAAAvB,aAAAwB;APjTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChHA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["var productcatAnimations = angular.module('productcatAnimations', ['ngAnimate']);\n\nproductcatAnimations.animation('.product', function() {\n\n  var animateUp = function(element, className, done) {\n    if(className != 'active') {\n      return;\n    }\n    element.css({\n      position: 'absolute',\n      top: 500,\n      left: 0,\n      display: 'block'\n    });\n\n    jQuery(element).animate({\n      top: 0\n    }, done);\n\n    return function(cancel) {\n      if(cancel) {\n        element.stop();\n      }\n    };\n  }\n\n  var animateDown = function(element, className, done) {\n    if(className != 'active') {\n      return;\n    }\n    element.css({\n      position: 'absolute',\n      left: 0,\n      top: 0\n    });\n\n    jQuery(element).animate({\n      top: -500\n    }, done);\n\n    return function(cancel) {\n      if(cancel) {\n        element.stop();\n      }\n    };\n  }\n\n  return {\n    addClass: animateUp,\n    removeClass: animateDown\n  };\n});\n","var productcatApp = angular.module('productcatApp', [\n  'ui.router',\n  'ngMaterial',\n  'productcatAnimations',\n  'productcatControllers',\n  'productcatFilters',\n  'productcatServices',\n  'ngCart.directives'\n]);\n\nproductcatApp.config(['$stateProvider', '$urlRouterProvider', '$mdThemingProvider',\n  function($stateProvider, $urlRouterProvider, $mdThemingProvider) {\n    $urlRouterProvider.otherwise('/products');\n\n    $stateProvider\n\n        // HOME STATES AND NESTED VIEWS ========================================\n        .state('home', {\n            url: '/products',\n            templateUrl: 'partials/product-list.html',\n            controller:'ProductListCtrl'\n        })\n\n        // ABOUT PAGE AND MULTIPLE NAMED VIEWS =================================\n        .state('productDetails', {\n          url: '/products/:id',\n          templateUrl: 'partials/product-detail.html',\n            controller:'ProductDetailCtrl'\n        });\n  $mdThemingProvider.theme('default')\n        .primaryPalette('blue');\n}])\n.run(['$rootScope', 'ngCart','ngCartItem', 'store', function ($rootScope, ngCart, ngCartItem, store) {\n\n    $rootScope.$on('ngCart:change', function(){\n        ngCart.$save();\n    });\n\n    if (angular.isObject(store.get('cart'))) {\n        ngCart.$restore(store.get('cart'));\n\n    } else {\n        ngCart.init();\n    }\n\n}]);\n","\n/* Controllers */\n\nvar productcatControllers = angular.module('productcatControllers', ['angularPayments','ui.bootstrap','ngMaterial','ngAria','angularSpinner']);\n\nproductcatControllers.controller('ProductListCtrl', ['$scope', 'Product', '$timeout','$uibModal','$mdDialog', 'ngCart','$mdMedia', '$mdSidenav','$log',\n  function($scope, Product, $timeout, $uibModal, $mdDialog, ngCart, $mdMedia, $mdSidenav, $log) {\n    ngCart.setTaxRate(7.5);\n    ngCart.setShipping(2.99);\n    $scope.products = Product.query();\n    $scope.orderProp = 'year';\n    $scope.toggleLeft = buildDelayedToggler('left');\n    $scope.status = '  ';\n    $scope.customFullscreen = $mdMedia('xs') || $mdMedia('sm');\n    $scope.showPaymentDialog = function(ev) {\n       var useFullScreen = ($mdMedia('sm') || $mdMedia('xs'))  && $scope.customFullscreen;\n       $mdDialog.show({\n         controller: 'DialogController',\n         templateUrl: 'checkout.html',\n         parent: angular.element(document.body),\n         targetEvent: ev,\n         clickOutsideToClose:true,\n         fullscreen: useFullScreen,\n       })\n       .then(function(answer) {\n         $scope.status = 'You said the information was \"' + answer + '\".';\n       }, function() {\n         $scope.status = 'You cancelled the dialog.';\n       });\n       $scope.$watch(function() {\n         return $mdMedia('xs') || $mdMedia('sm');\n       }, function(wantsFullScreen) {\n         $scope.customFullscreen = (wantsFullScreen === true);\n       });\n    };\n    /**\n     * Build handler to open/close a SideNav; when animation finishes\n     * report completion in console\n     */\n     /**\n     * Supplies a function that will continue to operate until the\n     * time is up.\n     */\n    function debounce(func, wait, context) {\n      var timer;\n      return function debounced() {\n        var context = $scope,\n            args = Array.prototype.slice.call(arguments);\n        $timeout.cancel(timer);\n        timer = $timeout(function() {\n          timer = undefined;\n          func.apply(context, args);\n        }, wait || 10);\n      };\n    }\n    function buildDelayedToggler(navID) {\n      return debounce(function() {\n        $mdSidenav(navID)\n          .toggle()\n          .then(function () {\n            $log.debug(\"toggle \" + navID + \" is done\");\n          });\n      }, 200);\n    }\n  }]);\nproductcatControllers.controller('ProductDetailCtrl', ['$scope', '$stateParams', 'Product',\n  function($scope, $stateParams, Product) {\n    $scope.product = Product.get({id: $stateParams.id}, function(product) {\n      $scope.mainImageUrl = product.images[0];\n    });\n    $scope.setImage = function(imageUrl) {\n      $scope.mainImageUrl = imageUrl;\n    };\n  }]);\nproductcatControllers.controller('DialogController',['$scope', '$mdDialog', 'ngCart',\nfunction($scope, $mdDialog, ngCart) {\n    $scope.totalAmount = ngCart.totalCost();\n\n    $scope.onSubmit = function () {\n      $scope.processing = true;\n    };\n\n    $scope.stripeCallback = function (code, result) {\n      $scope.processing = false;\n      $scope.hideAlerts();\n      if (result.error) {\n        $scope.stripeError = result.error.message;\n      } else {\n        $scope.stripeToken = result.id;\n      }\n    };\n    $scope.hideAlerts = function () {\n      $scope.stripeError = null;\n      $scope.stripeToken = null;\n    };\n    $scope.hide = function() {\n      $mdDialog.hide();\n    };\n    $scope.cancel = function() {\n      $mdDialog.cancel();\n    };\n    $scope.answer = function(answer) {\n      $mdDialog.hide(answer);\n    };\n\n}]);\nproductcatControllers.controller('CartController',['$scope', 'Product', '$uibModal','$mdDialog', 'ngCart','$mdMedia',\nfunction($scope, ngCart, Product, $uibModal, $mdMedia) {\n      $scope.ngCart = ngCart;\n\n\n  }]);\n","\n\n/* Directives */\n","/* Filters */\n\nangular.module('productcatFilters', []).filter('checkmark', function() {\n  return function(input) {\n    return input ? '\\u2713' : '\\u2718';\n  };\n});\n","'use strict';\n\n\nangular.module('ngCart.directives', ['ngCart.fulfilment'])\n\n    .controller('CartController',['$scope', 'ngCart', function($scope, ngCart) {\n        $scope.ngCart = ngCart;\n    }])\n\n    .directive('ngcartAddtocart', ['ngCart', function(ngCart){\n        return {\n            restrict : 'E',\n            controller : 'CartController',\n            scope: {\n                id:'@',\n                name:'@',\n                quantity:'@',\n                quantityMax:'@',\n                price:'@',\n                data:'='\n            },\n            transclude: true,\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'partials/Cart/addtocart.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            },\n            link:function(scope, element, attrs){\n                scope.attrs = attrs;\n                scope.inCart = function(){\n                    return  ngCart.getItemById(attrs.id);\n                };\n\n                if (scope.inCart()){\n                    scope.q = ngCart.getItemById(attrs.id).getQuantity();\n                } else {\n                    scope.q = parseInt(scope.quantity);\n                }\n\n                scope.qtyOpt =  [];\n                for (var i = 1; i <= scope.quantityMax; i++) {\n                    scope.qtyOpt.push(i);\n                }\n\n            }\n\n        };\n    }])\n\n    .directive('ngcartCart', [function(){\n        return {\n            restrict : 'E',\n            controller : 'CartController',\n            scope: {},\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'partials/Cart/cart.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            },\n            link:function(scope, element, attrs){\n\n            }\n        };\n    }])\n\n    .directive('ngcartSummary', [function(){\n        return {\n            restrict : 'E',\n            controller : 'CartController',\n            scope: {},\n            transclude: true,\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'partials/Cart/summary.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            }\n        };\n    }])\n\n    .directive('ngcartCheckout', [function(){\n        return {\n            restrict : 'E',\n            controller : ('CartController', ['$rootScope', '$scope', 'ngCart', 'fulfilmentProvider', function($rootScope, $scope, ngCart, fulfilmentProvider) {\n                $scope.ngCart = ngCart;\n\n                $scope.checkout = function () {\n                    fulfilmentProvider.setService($scope.service);\n                    fulfilmentProvider.setSettings($scope.settings);\n                    fulfilmentProvider.checkout()\n                        .success(function (data, status, headers, config) {\n                            $rootScope.$broadcast('ngCart:checkout_succeeded', data);\n                        })\n                        .error(function (data, status, headers, config) {\n                            $rootScope.$broadcast('ngCart:checkout_failed', {\n                                statusCode: status,\n                                error: data\n                            });\n                        });\n                }\n            }]),\n            scope: {\n                service:'@',\n                settings:'='\n            },\n            transclude: true,\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'partials/Cart/checkout.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            }\n        };\n    }]);\n","\nangular.module('ngCart.fulfilment', [])\n    .service('fulfilmentProvider', ['$injector', function($injector){\n\n        this._obj = {\n            service : undefined,\n            settings : undefined\n        };\n\n        this.setService = function(service){\n            this._obj.service = service;\n        };\n\n        this.setSettings = function(settings){\n            this._obj.settings = settings;\n        };\n\n        this.checkout = function(){\n            var provider = $injector.get('ngCart.fulfilment.' + this._obj.service);\n              return provider.checkout(this._obj.settings);\n\n        }\n\n    }])\n\n\n.service('ngCart.fulfilment.log', ['$q', '$log', 'ngCart', function($q, $log, ngCart){\n\n        this.checkout = function(){\n\n            var deferred = $q.defer();\n\n            $log.info(ngCart.toObject());\n            deferred.resolve({\n                cart:ngCart.toObject()\n            });\n\n            return deferred.promise;\n\n        }\n\n }])\n\n.service('ngCart.fulfilment.http', ['$http', 'ngCart', function($http, ngCart){\n\n        this.checkout = function(settings){\n            return $http.post(settings.url,\n                { data: ngCart.toObject(), options: settings.options});\n        }\n }])\n\n\n.service('ngCart.fulfilment.paypal', ['$http', 'ngCart', function($http, ngCart){\n\n\n}]);\n","/* Services */\n\nvar productcatServices = angular.module('productcatServices', ['ngResource']);\n\nproductcatServices.factory('Product', ['$resource',\n  function($resource){\n    return $resource('products/:id.json', {}, {\n      query: {method:'GET', params:{id:'products'}, isArray:true}\n    });\n  }]);\n    productcatServices.service('ngCart', ['$rootScope', 'ngCartItem', 'store', function ($rootScope, ngCartItem, store) {\n\n        this.init = function(){\n            this.$cart = {\n                shipping : null,\n                taxRate : null,\n                tax : null,\n                items : []\n            };\n        };\n\n        this.addItem = function (id, name, price, quantity, data) {\n\n            var inCart = this.getItemById(id);\n\n            if (typeof inCart === 'object'){\n                //Update quantity of an item if it's already in the cart\n                inCart.setQuantity(quantity, false);\n                $rootScope.$broadcast('ngCart:itemUpdated', inCart);\n            } else {\n                var newItem = new ngCartItem(id, name, price, quantity, data);\n                this.$cart.items.push(newItem);\n                $rootScope.$broadcast('ngCart:itemAdded', newItem);\n            }\n\n            $rootScope.$broadcast('ngCart:change', {});\n        };\n\n        this.getItemById = function (itemId) {\n            var items = this.getCart().items;\n            var build = false;\n\n            angular.forEach(items, function (item) {\n                if  (item.getId() === itemId) {\n                    build = item;\n                }\n            });\n            return build;\n        };\n\n        this.setShipping = function(shipping){\n            this.$cart.shipping = shipping;\n            return this.getShipping();\n        };\n\n        this.getShipping = function(){\n            if (this.getCart().items.length === 0) return 0;\n            return  this.getCart().shipping;\n        };\n\n        this.setTaxRate = function(taxRate){\n            this.$cart.taxRate = +parseFloat(taxRate).toFixed(2);\n            return this.getTaxRate();\n        };\n\n        this.getTaxRate = function(){\n            return this.$cart.taxRate;\n        };\n\n        this.getTax = function(){\n            return +parseFloat(((this.getSubTotal()/100) * this.getCart().taxRate )).toFixed(2);\n        };\n\n        this.setCart = function (cart) {\n            this.$cart = cart;\n            return this.getCart();\n        };\n\n        this.getCart = function(){\n            return this.$cart;\n        };\n\n        this.getItems = function(){\n            return this.getCart().items;\n        };\n\n        this.getTotalItems = function () {\n            var count = 0;\n            var items = this.getItems();\n            angular.forEach(items, function (item) {\n                count += item.getQuantity();\n            });\n            return count;\n        };\n\n        this.getTotalUniqueItems = function () {\n            return this.getCart().items.length;\n        };\n\n        this.getSubTotal = function(){\n            var total = 0;\n            angular.forEach(this.getCart().items, function (item) {\n                total += item.getTotal();\n            });\n            return +parseFloat(total).toFixed(2);\n        };\n\n        this.totalCost = function () {\n            return +parseFloat(this.getSubTotal() + this.getShipping() + this.getTax()).toFixed(2);\n        };\n\n        this.removeItem = function (index) {\n            var item = this.$cart.items.splice(index, 1)[0] || {};\n            $rootScope.$broadcast('ngCart:itemRemoved', item);\n            $rootScope.$broadcast('ngCart:change', {});\n\n        };\n\n        this.removeItemById = function (id) {\n            var item;\n            var cart = this.getCart();\n            angular.forEach(cart.items, function (item, index) {\n                if(item.getId() === id) {\n                    item = cart.items.splice(index, 1)[0] || {};\n                }\n            });\n            this.setCart(cart);\n            $rootScope.$broadcast('ngCart:itemRemoved', item);\n            $rootScope.$broadcast('ngCart:change', {});\n        };\n\n        this.empty = function () {\n\n            $rootScope.$broadcast('ngCart:change', {});\n            this.$cart.items = [];\n            localStorage.removeItem('cart');\n        };\n\n        this.isEmpty = function () {\n\n            return (this.$cart.items.length > 0 ? false : true);\n\n        };\n\n        this.toObject = function() {\n\n            if (this.getItems().length === 0) return false;\n\n            var items = [];\n            angular.forEach(this.getItems(), function(item){\n                items.push (item.toObject());\n            });\n\n            return {\n                shipping: this.getShipping(),\n                tax: this.getTax(),\n                taxRate: this.getTaxRate(),\n                subTotal: this.getSubTotal(),\n                totalCost: this.totalCost(),\n                items:items\n            };\n        };\n\n\n        this.$restore = function(storedCart){\n            var _self = this;\n            _self.init();\n            _self.$cart.shipping = storedCart.shipping;\n            _self.$cart.tax = storedCart.tax;\n\n            angular.forEach(storedCart.items, function (item) {\n                _self.$cart.items.push(new ngCartItem(item._id,  item._name, item._price, item._quantity, item._data));\n            });\n            this.$save();\n        };\n\n        this.$save = function () {\n            return store.set('cart', JSON.stringify(this.getCart()));\n        };\n\n    }]);\n\n    productcatServices.factory('ngCartItem', ['$rootScope', '$log', function ($rootScope, $log) {\n\n        var item = function (id, name, price, quantity, data) {\n            this.setId(id);\n            this.setName(name);\n            this.setPrice(price);\n            this.setQuantity(quantity);\n            this.setData(data);\n        };\n\n\n        item.prototype.setId = function(id){\n            if (id)  this._id = id;\n            else {\n                $log.error('An ID must be provided');\n            }\n        };\n\n        item.prototype.getId = function(){\n            return this._id;\n        };\n\n\n        item.prototype.setName = function(name){\n            if (name)  this._name = name;\n            else {\n                $log.error('A name must be provided');\n            }\n        };\n        item.prototype.getName = function(){\n            return this._name;\n        };\n\n        item.prototype.setPrice = function(price){\n            var priceFloat = parseFloat(price);\n            if (priceFloat) {\n                if (priceFloat <= 0) {\n                    $log.error('A price must be over 0');\n                } else {\n                    this._price = (priceFloat);\n                }\n            } else {\n                $log.error('A price must be provided');\n            }\n        };\n        item.prototype.getPrice = function(){\n            return this._price;\n        };\n\n\n        item.prototype.setQuantity = function(quantity, relative){\n\n\n            var quantityInt = parseInt(quantity);\n            if (quantityInt % 1 === 0){\n                if (relative === true){\n                    this._quantity  += quantityInt;\n                } else {\n                    this._quantity = quantityInt;\n                }\n                if (this._quantity < 1) this._quantity = 1;\n\n            } else {\n                this._quantity = 1;\n                $log.info('Quantity must be an integer and was defaulted to 1');\n            }\n\n\n        };\n\n        item.prototype.getQuantity = function(){\n            return this._quantity;\n        };\n\n        item.prototype.setData = function(data){\n            if (data) this._data = data;\n        };\n\n        item.prototype.getData = function(){\n            if (this._data) return this._data;\n            else $log.info('This item has no data');\n        };\n\n\n        item.prototype.getTotal = function(){\n            return +parseFloat(this.getQuantity() * this.getPrice()).toFixed(2);\n        };\n\n        item.prototype.toObject = function() {\n            return {\n                id: this.getId(),\n                name: this.getName(),\n                price: this.getPrice(),\n                quantity: this.getQuantity(),\n                data: this.getData(),\n                total: this.getTotal()\n            };\n        };\n\n        return item;\n\n    }]);\n\n  productcatServices.service('store', ['$window', function ($window) {\n\n        return {\n\n            get: function (key) {\n                if ($window.localStorage [key]) {\n                    var cart = angular.fromJson($window.localStorage [key]);\n                    return JSON.parse(cart);\n                }\n                return false;\n\n            },\n\n\n            set: function (key, val) {\n\n                if (val === undefined) {\n                    $window.localStorage .removeItem(key);\n                } else {\n                    $window.localStorage [key] = angular.toJson(val);\n                }\n                return $window.localStorage [key];\n            }\n        };\n    }]);\n"],"sourceRoot":"/source/"}