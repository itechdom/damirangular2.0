{"version":3,"file":"main.js","sources":["animations.js","app.js","controllers.js","directives.js","filters.js","services.js"],"names":["phonecatAnimations","angular","module","animation","animateUp","element","className","done","css","position","top","left","display","jQuery","animate","cancel","stop","animateDown","addClass","removeClass","phonecatApp","config","$routeProvider","when","templateUrl","controller","otherwise","redirectTo","phonecatControllers","$scope","Phone","$uibModal","phones","query","orderProp","cart","addToCart","product","found","forEach","item","id","quantity","push","extend","getCartPrice","total","price","checkout","open","resolve","totalAmount","$routeParams","phone","get","phoneId","mainImageUrl","images","setImage","imageUrl","onSubmit","processing","stripeCallback","code","result","hideAlerts","error","stripeError","message","stripeToken","filter","input","phonecatServices","factory","$resource","method","params","isArray"],"mappings":"AAAA,GAAAA,oBAAAC,QAAAC,OAAA,sBAAA,aAEAF,oBAAAG,UAAA,SAAA,WAEA,GAAAC,GAAA,SAAAC,EAAAC,EAAAC,GACA,MAAA,UAAAD,GAGAD,EAAAG,KACAC,SAAA,WACAC,IAAA,IACAC,KAAA,EACAC,QAAA,UAGAC,OAAAR,GAAAS,SACAJ,IAAA,GACAH,GAEA,SAAAQ,GACAA,GACAV,EAAAW,SAhBA,QAqBAC,EAAA,SAAAZ,EAAAC,EAAAC,GACA,MAAA,UAAAD,GAGAD,EAAAG,KACAC,SAAA,WACAE,KAAA,EACAD,IAAA,IAGAG,OAAAR,GAAAS,SACAJ,IAAA,MACAH,GAEA,SAAAQ,GACAA,GACAV,EAAAW,SAfA,OAoBA,QACAE,SAAAd,EACAe,YAAAF,IC7CA,IAAAG,aAAAnB,QAAAC,OAAA,eACA,UACA,qBAEA,sBACA,kBACA,oBAGAkB,aAAAC,QAAA,iBACA,SAAAC,GACAA,EACAC,KAAA,WACAC,YAAA,2BACAC,WAAA,kBAEAF,KAAA,oBACAC,YAAA,6BACAC,WAAA,oBAEAC,WACAC,WAAA,cCtBA,IAAAC,qBAAA3B,QAAAC,OAAA,uBAAA,kBAAA,eAAA,kBAEA0B,qBAAAH,WAAA,iBAAA,SAAA,QAAA,YACA,SAAAI,EAAAC,EAAAC,GACAF,EAAAG,OAAAF,EAAAG,QACAJ,EAAAK,UAAA,MAEAL,EAAAM,QACAN,EAAAO,UAAA,SAAAC,GACA,GAAAC,IAAA,CACAT,GAAAM,KAAAI,QAAA,SAAAC,GACAA,EAAAC,KAAAJ,EAAAI,KACAD,EAAAE,WACAJ,GAAA,KAGAA,GACAT,EAAAM,KAAAQ,KAAA1C,QAAA2C,QAAAF,SAAA,GAAAL,KAIAR,EAAAgB,aAAA,WACA,GAAAC,GAAA,CAIA,OAHAjB,GAAAM,KAAAI,QAAA,SAAAF,GACAS,GAAAT,EAAAU,MAAAV,EAAAK,WAEAI,GAEAjB,EAAAmB,SAAA,WACAjB,EAAAkB,MACAzB,YAAA,gBACAC,WAAA,eACAyB,SACAC,YAAAtB,EAAAgB,oBAKAjB,oBAAAH,WAAA,mBAAA,SAAA,eAAA,QACA,SAAAI,EAAAuB,EAAAtB,GACAD,EAAAwB,MAAAvB,EAAAwB,KAAAC,QAAAH,EAAAG,SAAA,SAAAF,GACAxB,EAAA2B,aAAAH,EAAAI,OAAA,KAEA5B,EAAA6B,SAAA,SAAAC,GACA9B,EAAA2B,aAAAG,MAIA/B,oBAAAH,WAAA,gBAAA,SACA,SAAAI,EAAAsB,GACAtB,EAAAsB,YAAAA,EAEAtB,EAAA+B,SAAA,WACA/B,EAAAgC,YAAA,GAGAhC,EAAAiC,eAAA,SAAAC,EAAAC,GACAnC,EAAAgC,YAAA,EACAhC,EAAAoC,aACAD,EAAAE,MACArC,EAAAsC,YAAAH,EAAAE,MAAAE,QAEAvC,EAAAwC,YAAAL,EAAAvB,IAGAZ,EAAAoC,WAAA,WACApC,EAAAsC,YAAA,KACAtC,EAAAwC,YAAA,SEpEApE,QAAAC,OAAA,sBAAAoE,OAAA,YAAA,WACA,MAAA,UAAAC,GACA,MAAAA,GAAA,IAAA,MCFA,IAAAC,kBAAAvE,QAAAC,OAAA,oBAAA,cAEAsE,kBAAAC,QAAA,SAAA,YACA,SAAAC,GACA,MAAAA,GAAA,2BACAzC,OAAA0C,OAAA,MAAAC,QAAArB,QAAA,UAAAsB,SAAA;ALNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzEA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["var phonecatAnimations = angular.module('phonecatAnimations', ['ngAnimate']);\n\nphonecatAnimations.animation('.phone', function() {\n\n  var animateUp = function(element, className, done) {\n    if(className != 'active') {\n      return;\n    }\n    element.css({\n      position: 'absolute',\n      top: 500,\n      left: 0,\n      display: 'block'\n    });\n\n    jQuery(element).animate({\n      top: 0\n    }, done);\n\n    return function(cancel) {\n      if(cancel) {\n        element.stop();\n      }\n    };\n  }\n\n  var animateDown = function(element, className, done) {\n    if(className != 'active') {\n      return;\n    }\n    element.css({\n      position: 'absolute',\n      left: 0,\n      top: 0\n    });\n\n    jQuery(element).animate({\n      top: -500\n    }, done);\n\n    return function(cancel) {\n      if(cancel) {\n        element.stop();\n      }\n    };\n  }\n\n  return {\n    addClass: animateUp,\n    removeClass: animateDown\n  };\n});\n","'use strict';\n\n/* App Module */\n\nvar phonecatApp = angular.module('phonecatApp', [\n  'ngRoute',\n  'phonecatAnimations',\n\n  'phonecatControllers',\n  'phonecatFilters',\n  'phonecatServices'\n]);\n\nphonecatApp.config(['$routeProvider',\n  function($routeProvider) {\n    $routeProvider.\n      when('/phones', {\n        templateUrl: 'partials/phone-list.html',\n        controller: 'PhoneListCtrl'\n      }).\n      when('/phones/:phoneId', {\n        templateUrl: 'partials/phone-detail.html',\n        controller: 'PhoneDetailCtrl'\n      }).\n      otherwise({\n        redirectTo: '/phones'\n      });\n  }]);\n","\n/* Controllers */\n\nvar phonecatControllers = angular.module('phonecatControllers', ['angularPayments','ui.bootstrap','angularSpinner']);\n\nphonecatControllers.controller('PhoneListCtrl', ['$scope', 'Phone', '$uibModal',\n  function($scope, Phone, $uibModal) {\n    $scope.phones = Phone.query();\n    $scope.orderProp = 'age';\n\n    $scope.cart=[];\n    $scope.addToCart = function (product) {\n      var found = false;\n      $scope.cart.forEach(function (item) {\n        if (item.id === product.id) {\n          item.quantity++;\n          found = true;\n        }\n      });\n      if (!found) {\n        $scope.cart.push(angular.extend({quantity: 1}, product));\n      }\n    };\n\n    $scope.getCartPrice = function () {\n      var total = 0;\n      $scope.cart.forEach(function (product) {\n        total += product.price * product.quantity;\n      });\n      return total;\n    };\n    $scope.checkout = function () {\n\t\t\t$uibModal.open({\n\t\t\t\ttemplateUrl: 'checkout.html',\n\t\t\t\tcontroller: 'CheckoutCtrl',\n\t\t\t\tresolve: {\n\t\t\t\t\ttotalAmount: $scope.getCartPrice\n\t\t\t\t}\n\t\t\t});\n\t\t};\n  }]);\nphonecatControllers.controller('PhoneDetailCtrl', ['$scope', '$routeParams', 'Phone',\n  function($scope, $routeParams, Phone) {\n    $scope.phone = Phone.get({phoneId: $routeParams.phoneId}, function(phone) {\n      $scope.mainImageUrl = phone.images[0];\n    });\n    $scope.setImage = function(imageUrl) {\n      $scope.mainImageUrl = imageUrl;\n    };\n  }]);\n\n  phonecatControllers.controller('CheckoutCtrl',['$scope',\n  function ($scope, totalAmount) {\n    $scope.totalAmount = totalAmount;\n\n    $scope.onSubmit = function () {\n      $scope.processing = true;\n    };\n\n    $scope.stripeCallback = function (code, result) {\n      $scope.processing = false;\n      $scope.hideAlerts();\n      if (result.error) {\n        $scope.stripeError = result.error.message;\n      } else {\n        $scope.stripeToken = result.id;\n      }\n    };\n    $scope.hideAlerts = function () {\n      $scope.stripeError = null;\n      $scope.stripeToken = null;\n    };\n  }]);\n","\n\n/* Directives */\n","/* Filters */\n\nangular.module('phonecatFilters', []).filter('checkmark', function() {\n  return function(input) {\n    return input ? '\\u2713' : '\\u2718';\n  };\n});\n","/* Services */\n\nvar phonecatServices = angular.module('phonecatServices', ['ngResource']);\n\nphonecatServices.factory('Phone', ['$resource',\n  function($resource){\n    return $resource('phones/:phoneId.json', {}, {\n      query: {method:'GET', params:{phoneId:'phones'}, isArray:true}\n    });\n  }]);\n"],"sourceRoot":"/source/"}